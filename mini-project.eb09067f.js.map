{"mappings":"ACAA,IAAM,EAAO,SAAS,cAAc,CAAC,eAC/B,EAAO,SAAS,aAAa,CAAC,YAC9B,EAAU,SAAS,aAAa,CAAC,SAInC,EAAO,EACP,EAAa,GAEjB,eAAe,IACb,GAAI,CACF,IAAM,EAAM,sEAAsE,UAAmB,sDAA0C,CACzI,EAAW,MAAM,MAAM,GAE7B,MAAO,AADM,CAAA,MAAM,EAAS,IAAI,EAAhC,EACY,IAAI,AAClB,CAAE,MAAO,EAAO,CAEd,OADA,QAAQ,GAAG,CAAC,oBACL,EAAE,AACX,CACF,CAEA,eAAe,EAAU,CAAG,EAC1B,IAAM,EAAO,EAAI,GAAG,CAAC,CAAC,CAAA,aAAE,CAAY,CAAA,cAAE,CAAa,CAAA,MAAE,CAAK,CAAA,MAAE,CAAK,CAAA,SAAE,CAAQ,CAAA,UAAE,CAAS,CAAA,KAAE,CAAI,CAAE,GACrF,CAAC;A;A;A;AAIH,SAAA,EAAE,EAAa;AACR,gBAAA,EAAE,EAAc;AACvB,SAAA,EAAE,EAAK;A;A;A;A;AAKV,MAAA,EAAE;A;A;A;AAIF,MAAA,EAAE;A;A;A;AAIF,MAAA,EAAE;A;A;A;AAIF,MAAA,EAAE;A;A;A;AAIH,KAAA,CAAC,EACD,IAAI,CAAC,IACR,EAAK,kBAAkB,CAAC,YAAa,EACvC,CAuCA,eAAe,EAAY,CAAW,EAChC,IACF,EAAO,EACP,EAAK,SAAS,CAAG,IAEnB,IAAM,EAAS,MAAM,GACrB,OAAM,EAAU,GACZ,AA9FW,KA8FX,EAAO,MAAM,EACf,EAAQ,KAAK,CAAC,OAAO,CAAG,QACxB,GAAQ,GAER,EAAQ,KAAK,CAAC,OAAO,CAAG,MAE5B,CAlDA,EAAK,gBAAgB,CAAC,SAAU,MAAO,IACrC,EAAM,cAAc,GAEpB,EADa,EAAM,aAAa,CAAC,QAAQ,CAAC,KAAK,CAAC,KAAK,CAErD,MAAM,EAAY,CAAA,EACpB,GAEA,EAAQ,gBAAgB,CAAC,QAAS,UAChC,MAAM,EAAY,CAAA,EACpB,GAEA,EAAK,gBAAgB,CAAC,QAAS,AAAA,QAMZ,EAAK,MAChB,EAND,EAAM,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,WAKpB,EAHP,EAAM,MAAM,CAAC,OAAO,CAAC,KAAK,CAGd,EAHgB,EAAM,MAAM,CAAC,GAAG,CAWtD,CAPM,EAAW,cAAc,MAAM,CAAC;A;A;AAGxB,gBAAA,EAAE,EAAI,OAAO,EAAE,EAAI;A;AAEjC,EAAA,CAAC,GAEQ,IAAI,GAEb,SAAS,aAAa,CAAC,iBACpB,gBAAgB,CAAC,QAAS,IAAM,EAAS,KAAK,IAEjD,OAAO,gBAAgB,CAAC,UAAW,AAAC,IAC9B,AAAW,WAAX,EAAE,IAAI,EACR,EAAS,KAAK,EAElB,GAnBF","sources":["<anon>","src/app.js"],"sourcesContent":["var $6f40c3a58f594b58$exports = {};\nconst $6f40c3a58f594b58$var$form = document.getElementById(\"search-form\");\nconst $6f40c3a58f594b58$var$list = document.querySelector(\".gallery\");\nconst $6f40c3a58f594b58$var$loadBtn = document.querySelector(\".load\");\nconst $6f40c3a58f594b58$var$API_KEY = \"54251372-213b0855668bc459bc7284385\";\nconst $6f40c3a58f594b58$var$PER_PAGE = 12;\nlet $6f40c3a58f594b58$var$page = 1;\nlet $6f40c3a58f594b58$var$searchText = \"\";\nasync function $6f40c3a58f594b58$var$getImg() {\n    try {\n        const url = `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${$6f40c3a58f594b58$var$searchText}&page=${$6f40c3a58f594b58$var$page}&per_page=${$6f40c3a58f594b58$var$PER_PAGE}&key=${$6f40c3a58f594b58$var$API_KEY}`;\n        const response = await fetch(url);\n        const data = await response.json();\n        return data.hits;\n    } catch (error) {\n        console.log(\"\\u0421\\u0442\\u0430\\u043B\\u0430\\u0441\\u044F \\u043F\\u043E\\u043C\\u0438\\u043B\\u043A\\u0430(\");\n        return [];\n    }\n}\nasync function $6f40c3a58f594b58$var$renderImg(arr) {\n    const item = arr.map(({ webformatURL: webformatURL, largeImageURL: largeImageURL, likes: likes, views: views, comments: comments, downloads: downloads, tags: tags })=>{\n        return `<li>\n        <div class=\"photo-card\">\n  <img \n    class=\"image\" \n    src=\"${webformatURL}\" \n    data-large=\"${largeImageURL}\"\n    alt=\"${tags}\" \n  />\n  <div class=\"stats\">\n    <p class=\"stats-item\">\n      <i class=\"material-icons\">thumb_up</i>\n      ${likes}\n    </p>\n    <p class=\"stats-item\">\n      <i class=\"material-icons\">visibility</i>\n      ${views}\n    </p>\n    <p class=\"stats-item\">\n      <i class=\"material-icons\">comment</i>\n      ${comments}\n    </p>\n    <p class=\"stats-item\">\n      <i class=\"material-icons\">cloud_download</i>\n      ${downloads}\n    </p>\n  </div>\n</div>\n</li>`;\n    }).join(\"\");\n    $6f40c3a58f594b58$var$list.insertAdjacentHTML(\"beforeend\", item);\n}\n$6f40c3a58f594b58$var$form.addEventListener(\"submit\", async (event)=>{\n    event.preventDefault();\n    const text = event.currentTarget.elements.query.value;\n    $6f40c3a58f594b58$var$searchText = text;\n    await $6f40c3a58f594b58$var$downloadImg(true);\n});\n$6f40c3a58f594b58$var$loadBtn.addEventListener(\"click\", async ()=>{\n    await $6f40c3a58f594b58$var$downloadImg(false);\n});\n$6f40c3a58f594b58$var$list.addEventListener(\"click\", (event)=>{\n    if (!event.target.classList.contains(\"image\")) return;\n    $6f40c3a58f594b58$var$openModal(event.target.dataset.large, event.target.alt);\n});\nfunction $6f40c3a58f594b58$var$openModal(src, alt) {\n    const instance = basicLightbox.create(`\n    <div class=\"custom-lightbox\">\n      <button class=\"custom-close\">&times;</button>\n      <img src=\"${src}\" alt=\"${alt}\" class=\"custom-image\">\n    </div>\n  `);\n    instance.show();\n    document.querySelector(\".custom-close\").addEventListener(\"click\", ()=>instance.close());\n    window.addEventListener(\"keydown\", (e)=>{\n        if (e.code === \"Escape\") instance.close();\n    });\n}\nasync function $6f40c3a58f594b58$var$downloadImg(isNewSearch) {\n    if (isNewSearch) {\n        $6f40c3a58f594b58$var$page = 1;\n        $6f40c3a58f594b58$var$list.innerHTML = \"\";\n    }\n    const images = await $6f40c3a58f594b58$var$getImg();\n    await $6f40c3a58f594b58$var$renderImg(images);\n    if (images.length === $6f40c3a58f594b58$var$PER_PAGE) {\n        $6f40c3a58f594b58$var$loadBtn.style.display = \"block\";\n        $6f40c3a58f594b58$var$page += 1;\n    } else $6f40c3a58f594b58$var$loadBtn.style.display = \"none\";\n}\n\n\n//# sourceMappingURL=mini-project.eb09067f.js.map\n","const form = document.getElementById(\"search-form\")\r\nconst list = document.querySelector(\".gallery\")\r\nconst loadBtn = document.querySelector(\".load\")\r\n\r\nconst API_KEY = \"54251372-213b0855668bc459bc7284385\"\r\nconst PER_PAGE = 12\r\nlet page = 1;\r\nlet searchText = \"\"\r\n\r\nasync function getImg() {\r\n  try {\r\n    const url = `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${searchText}&page=${page}&per_page=${PER_PAGE}&key=${API_KEY}`;\r\n    const response = await fetch(url)\r\n    const data = await response.json()\r\n    return data.hits\r\n  } catch (error) {\r\n    console.log(\"Сталася помилка(\");\r\n    return []\r\n  }\r\n}\r\n\r\nasync function renderImg(arr) {\r\n  const item = arr.map(({ webformatURL, largeImageURL, likes, views, comments, downloads, tags }) => {\r\n    return `<li>\r\n        <div class=\"photo-card\">\r\n  <img \r\n    class=\"image\" \r\n    src=\"${webformatURL}\" \r\n    data-large=\"${largeImageURL}\"\r\n    alt=\"${tags}\" \r\n  />\r\n  <div class=\"stats\">\r\n    <p class=\"stats-item\">\r\n      <i class=\"material-icons\">thumb_up</i>\r\n      ${likes}\r\n    </p>\r\n    <p class=\"stats-item\">\r\n      <i class=\"material-icons\">visibility</i>\r\n      ${views}\r\n    </p>\r\n    <p class=\"stats-item\">\r\n      <i class=\"material-icons\">comment</i>\r\n      ${comments}\r\n    </p>\r\n    <p class=\"stats-item\">\r\n      <i class=\"material-icons\">cloud_download</i>\r\n      ${downloads}\r\n    </p>\r\n  </div>\r\n</div>\r\n</li>`\r\n  }).join(\"\")\r\n  list.insertAdjacentHTML(\"beforeend\", item)\r\n}\r\n\r\nform.addEventListener(\"submit\", async (event) => {\r\n  event.preventDefault()\r\n  const text = event.currentTarget.elements.query.value\r\n  searchText = text\r\n  await downloadImg(true)\r\n})\r\n\r\nloadBtn.addEventListener(\"click\", async () => {\r\n  await downloadImg(false)\r\n})\r\n\r\nlist.addEventListener(\"click\", event => {\r\n  if (!event.target.classList.contains(\"image\")) return;\r\n\r\n  openModal(event.target.dataset.large, event.target.alt);\r\n});\r\n\r\nfunction openModal(src, alt) {\r\n  const instance = basicLightbox.create(`\r\n    <div class=\"custom-lightbox\">\r\n      <button class=\"custom-close\">&times;</button>\r\n      <img src=\"${src}\" alt=\"${alt}\" class=\"custom-image\">\r\n    </div>\r\n  `);\r\n\r\n  instance.show();\r\n\r\n  document.querySelector(\".custom-close\")\r\n    .addEventListener(\"click\", () => instance.close());\r\n\r\n  window.addEventListener(\"keydown\", (e) => {\r\n    if (e.code === \"Escape\") {\r\n      instance.close();\r\n    }\r\n  });\r\n}\r\n\r\nasync function downloadImg(isNewSearch) {\r\n  if (isNewSearch) {\r\n    page = 1\r\n    list.innerHTML = \"\"\r\n  }\r\n  const images = await getImg()\r\n  await renderImg(images)\r\n  if (images.length === PER_PAGE) {\r\n    loadBtn.style.display = \"block\"\r\n    page += 1\r\n  } else {\r\n    loadBtn.style.display = \"none\"\r\n  }\r\n}"],"names":["$6f40c3a58f594b58$var$form","document","getElementById","$6f40c3a58f594b58$var$list","querySelector","$6f40c3a58f594b58$var$loadBtn","$6f40c3a58f594b58$var$page","$6f40c3a58f594b58$var$searchText","$6f40c3a58f594b58$var$getImg","url","response","fetch","data","json","hits","error","console","log","$6f40c3a58f594b58$var$renderImg","arr","item","map","webformatURL","largeImageURL","likes","views","comments","downloads","tags","join","insertAdjacentHTML","$6f40c3a58f594b58$var$downloadImg","isNewSearch","innerHTML","images","length","style","display","addEventListener","event","preventDefault","currentTarget","elements","query","value","src","alt","instance","target","classList","contains","dataset","large","basicLightbox","create","show","close","window","e","code"],"version":3,"file":"mini-project.eb09067f.js.map"}